# Configuración para 2 Crazyflies compatible con Crazyswarm2
# Formato Crazyswarm2 fileversion 3
fileversion: 3

robots:
  cf1:
    enabled: true
    uri: radio://0/80/2M/E7E7E7E7E7  # Cambiar por la URI real de tu primer drone
    initial_position: [0.0, 0.0, 1.0]  # Altura inicial ligeramente por encima del piso (5cm)
    type: cf21  # Ver robot_types más abajo
    
  cf2:
    enabled: true
    uri: radio://0/80/2M/E7E7E7E7E8 # Cambiar por la URI real de tu segundo drone
    initial_position: [1.0, 0.0, 1.0]  # Altura inicial ligeramente por encima del piso (5cm)
    type: cf21  # Ver robot_types más abajo

# Definición de tipos de robots
robot_types:
  cf21:
    motion_capture:
      tracking: "librigidbodytracker"  # o "vendor"
      marker: default_single_marker
      dynamics: default
    big_quad: false
    battery:
      voltage_warning: 3.8   # Voltios
      voltage_critical: 3.7   # Voltios

# Configuración global para todos los robots
all:
  firmware_logging:
    enabled: false  # Deshabilitado si no se usa logging
  # Parámetros críticos del firmware - REQUERIDOS para takeoff/land/go_to
  firmware_params:
    commander:
      enHighLevel: 1  # ⚠️ CRÍTICO: Habilita el High Level Commander (requerido para takeoff/land/go_to)
      enAutoArm: 1  # ✅ ACTIVADO: Habilita auto-arm (0=deshabilitado, 1=habilitado)
      # Con auto-arm activo, el drone se armará automáticamente cuando esté listo
      # No se requiere llamar al servicio arm manualmente
    stabilizer:
      estimator: 2  # 1: complementary, 2: kalman (recomendado: kalman)
      controller: 2  # 1: PID, 2: mellinger (recomendado: mellinger)
  reference_frame: "world"
  broadcasts:
    num_repeats: 15
    delay_between_repeats_ms: 1
